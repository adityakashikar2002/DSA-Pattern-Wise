// Brute Approach
// Time: O(pLen) + O(sLen ∗ pLen) + O(sLen) ≈ O(sLen ∗ pLen)
    O(pLen) → building the frequency array freqP
    O(sLen * pLen) → for every index i, you build freqS of length pLen
    O(sLen) → iterating over substrings (for i = 0; i <= sLen - pLen; i++)
// Space: O(sLen)
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
/**
    sabse asan tarika hoga ki badi string s me hum sare p size vale substrings check kre 
    ki kya vo anagrams hai p vali string k

    iske liye 2 boolean arrays le lenge
*/
class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        int sLen = s.length();
        int pLen = p.length();

        int[] freqP = new int[26];

        List<Integer> res = new ArrayList<>();

        for(int i = 0; i < pLen; i++)
        {
            freqP[p.charAt(i) - 'a']++;
        }

        for(int i = 0; i <= sLen - pLen; i++)
        {
            int[] freqS = new int[26];
            for(int j = i; j < i + pLen; j++)
            {
                freqS[s.charAt(j) - 'a']++;
            }

            if(Arrays.equals(freqP, freqS))
            {
                res.add(i);
            }
        }

        return res;
    }
}
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------

// Optimal Approach
// Time: O(sLen)
// Space: O(sLen)
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
/**
    optimal tarika hoga ki baar baar freqS banane se achha sliding window of Plen use krenge
    aur phir shrink krte jaenge 
*/
class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> res = new ArrayList<>();

        int sLen = s.length();
        int pLen = p.length();

        if(pLen > sLen)
            return res;

        int[] freqS = new int[26];
        int[] freqP = new int[26];


        for(int i = 0; i < pLen; i++)
        {
            freqP[p.charAt(i) - 'a']++;
            freqS[s.charAt(i) - 'a']++;
        }

        if(Arrays.equals(freqP, freqS))
        {
            res.add(0);
        }

        int left = 0;

        for(int right = pLen; right < sLen; right++)
        {
            freqS[s.charAt(left++) - 'a']--; // prev vale ko ghatao
            freqS[s.charAt(right) - 'a']++; // curr vale ko add kro

            if(Arrays.equals(freqS, freqP))
            {
                res.add(left); // kyuki starting indices chaiye
            }
        }

        return res;
    }
}
