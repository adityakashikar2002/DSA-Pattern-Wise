// Brute Approach
// Time: O(nÂ³)
// Space: O(26 x 26) ~ O(1)

Space Complexity is 26 x 26 as O(1) because palindrome of size 3 is of form
---> X Y X 

for each X there are 26 choices a - z, and for Y also same 26 choices so total in worst case can be 26 x 26 
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
/*
    Brute approach hoga, sare subsequences check kro of size 3, agar palindrome hai 
    1st char = 3rd char, to set me add kro, set duplicates handle krta hi hai 
*/
class Solution {
    public int countPalindromicSubsequence(String s) {
        int n = s.length();
        Set<String> set = new HashSet<>();

        for (int i = 0; i < n - 2; i++) 
        {
            for (int j = i + 1; j < n - 1; j++) 
            {
                for (int k = j + 1; k < n; k++) 
                {    
                    // palindrome of length 3 means first == last
                    if (s.charAt(i) == s.charAt(k)) 
                    {
                        String str = "" + s.charAt(i) + s.charAt(j) + s.charAt(k);
                        set.add(str);
                    }
                }
            }
        }

        return set.size();
    }
}
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
// Better Approach - 1 
// Time: O(n + (26 x (n + n))) ~ O(n)
// Space: O(n + n) ~ O(n)
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
/*
    Brute Approach to bohot time lega, cubic me j raha kya use achha koi way nhi ??

    main gist of question hai "3-length palindrome"

    3-length palindrome ki khasiyat hai ki 1st aur last char hamehsa same hote hai,
    beech k character ka koi lena dena nhi

    X Y X 

    right ??

    ab question me bola hai ki palindromes repeat nhi hone chaiye

    apn ek kaam kr skte, har ek distinct char in string, uska 1st aur last occurence nikal lenge
    kyuki hame X Y X me X ka 1st aur last occurence chaiye

    phir Y yani middle element jitne honge betwwen 1st and last occurence vo palindrome me contribute krenge
    bss yee middle characters bhi unique hone chaiye

    jaha unique ki baat hai vaha set use krenge 
*/
class Solution {
    public int countPalindromicSubsequence(String s) {
        int n = s.length();
        int ans = 0;

        Set<Character> uniqueChar = new HashSet<>();

        for(char ch : s.toCharArray())
            uniqueChar.add(ch);

        int[] first = new int[26];
        int[] last = new int[26];

        Arrays.fill(first, -1);
        Arrays.fill(last, -1);

        for(char ch : uniqueChar)
        {
            for(int i = 0; i < n; i++)
            {
                char curr = s.charAt(i);

                if(curr == ch)
                {
                    if(first[ch - 'a'] == -1)
                    {
                        first[ch - 'a'] = i;
                    }

                    last[ch - 'a'] = i;
                }
            }

            Set<Character> distChar = new HashSet<>();

            for(int middle = first[ch - 'a'] + 1; middle < last[ch - 'a']; middle++)
            {
                distChar.add(s.charAt(middle));
            }

            ans += distChar.size();
        }

        return ans;
    }
}
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
// Better Approach - 1 
// Time: O(n + (26 x (n + n))) ~ O(n)
// Space: O(n + n) ~ O(n)
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------
