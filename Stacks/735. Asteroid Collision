// Time: O(n)
// Space: O(n)
------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------

/**
    simulate kro bss ðŸ¤£
*/
class Solution {
    public int[] asteroidCollision(int[] asteroids) {
        int n = asteroids.length;

        Stack<Integer> st = new Stack<>();

        for(int curr : asteroids)
        {
            if(curr > 0 || st.isEmpty())
                st.push(curr);
            else
            {
                while(!st.isEmpty() && st.peek() > 0 && st.peek() < Math.abs(curr)) // jab top < curr se 
                    st.pop();

                if(!st.isEmpty() && st.peek() == Math.abs(curr)) // agar barabar hota to dono explode
                    st.pop(); // so bss pop krenge list me add nhi
                else if(st.isEmpty() || st.peek() < 0) // agar khali ho gaya list me add kro
                    st.push(curr); // no positive asteroid to collide
            }

        }

        int[] res = new int[st.size()];
        int i = 0;
        
        for(int num : st)
        {
            res[i++] = num;
        }       
        
        return res;
    }
}
